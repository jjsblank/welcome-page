<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Welcome to blank.</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=SUIT&display=swap');

    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      font-family: 'SUIT', sans-serif;
      color: white;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }

    canvas#confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: -1;
    }

    body::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.03), transparent 70%);
      animation: ambient 20s linear infinite;
      z-index: 0;
    }

    @keyframes ambient {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .fixed-container {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 1920px;
      height: 1080px;
      transform: translate(-50%, -50%) scale(1);
      transform-origin: center center;
      z-index: 1;
    }

    @keyframes slideInLeft {
      from { transform: translateX(-100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeInScale {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInUp {
      from { transform: translateY(40px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeInRight {
      from { transform: translateX(100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .top-left {
      position: absolute;
      top: 40px;
      left: 40px;
      font-size: 60px;
      font-family: "Blank Sans", 'SUIT', sans-serif;
      font-weight: 700;
      z-index: 1;
      animation: slideInLeft 1s ease-out both;
    }

    .center-message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      white-space: pre-line;
      z-index: 1;
    }

    .center-message h1 {
      font-size: 90px;
      font-family: "Pretendard Variable ExtraBold", sans-serif;
      font-weight: 1000;
      margin-bottom: 20px;
      animation: fadeInScale 1s ease-out both;
      animation-delay: 0.3s;
    }

    .center-message .button {
      background: #111;
      color: white;
      padding: 14px 35px;
      font-size: 26px;
      font-weight: 500;
      border: 1px solid #444;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(255,255,255,0.08);
      cursor: pointer;
      transition: all 0.4s ease;
      animation: fadeInScale 1s ease-out both;
      animation-delay: 0.6s;
    }

    .center-message .button:hover {
      background: #f5f5f5;
      color: #000;
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.3);
    }

    .emoji {
      position: absolute;
      font-size: 110px;
      animation: fadeIn 1s ease-out both, float-rotate 4s ease-in-out infinite;
      z-index: 1;
      cursor: pointer;
    }

    .emoji1 { top: 40%; left: 72%; animation-delay: 1.0s, 0s; }

    @keyframes float-rotate {
      0%   { transform: translateY(0) rotate(0deg); }
      50%  { transform: translateY(-20px) rotate(3deg); }
      100% { transform: translateY(0) rotate(-3deg); }
    }

    .bottom-left {
      position: absolute;
      bottom: 30px;
      left: 40px;
      font-size: 32px;
      font-family: "Pretendard ExtraLight", sans-serif;
      line-height: 0.5;
      color: #cccccc;
      z-index: 1;
      animation: fadeInUp 1.5s ease-out both;
      animation-delay: 1s;
    }

    .bounce-char {
      display: inline-block;
      transition: transform 0.3s;
      cursor: pointer;
    }

    .bounce-char.bounce {
      animation: bounce 0.6s ease;
    }

    @keyframes bounce {
      0%   { transform: translateY(0); }
      30%  { transform: translateY(-30px); }
      60%  { transform: translateY(15px); }
      100% { transform: translateY(0); }
    }

    .bottom-left strong {
      color: white;
      font-weight: bold;
    }

    .bottom-right {
      position: absolute;
      bottom: -30px;
      right: 30px;
      z-index: 1;
      animation: fadeInRight 1.5s ease-out both;
      animation-delay: 2.5s;
    }

    .bottom-right img {
      height: 250px;
    }

    #easter-egg-logo {
      animation: logo-pulse 2s infinite;
      cursor: pointer;
      transition: transform 0.3s;
    }

    #easter-egg-logo:hover {
      transform: scale(1.05);
    }

    #easter-egg-message {
      position: fixed;
      bottom: 120px;
      right: 50px;
      background: rgba(255, 255, 255, 0.95);
      color: #111;
      padding: 20px 30px;
      border-radius: 20px;
      font-size: 24px;
      font-weight: 600;
      font-family: 'SUIT', sans-serif;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      display: none;
      z-index: 10;
      animation: fade-pop 0.5s ease-out forwards;
    }

    @keyframes fade-pop {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    #goal-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 40px 60px;
      background-color: rgba(0, 0, 0, 0.85);
      border: 2px solid #fff;
      border-radius: 20px;
      color: #fff;
      font-size: 50px;
      font-weight: bold;
      text-align: center;
      z-index: 200;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease-in-out;
    }
    
    #goal-message.show {
        opacity: 1;
    }

    #fireworks-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 199;
    }
  </style>
</head>
<body>
  <canvas id="confetti-canvas"></canvas>
  <canvas id="fireworks-canvas"></canvas>
  <div id="goal-message">🎉 GOAL! 🎉<br>환영합니다!</div>
  
  <div class="fixed-container">
    <div class="top-left" id="top-left-text">Welcome, New blanker!</div>

    <div class="center-message">
      <h1 id="welcome-text">입사자 님,<br>블랭크 합류를 환영해요!</h1>
      <button class="button" onclick="openPDF()">업무 세팅하기</button>
    </div>

    <div class="emoji emoji1">🎉</div>

    <div class="bottom-left" id="slogan"></div>

    <div class="bottom-right" id="easter-egg-logo">
      <img src="file:///C:/Users/jjs/Desktop/이미지/[blank] ci_logo white.png">
    </div>

    <div id="easter-egg-message">블랭크에 오신 걸 다시 한번 진심으로 환영해요💖</div>
  </div>

  <script>
    // --- 기존 스크립트 (변경 없음) ---
    const params = new URLSearchParams(window.location.search);
    const name = params.get('name') || '입사자';
    const welcomeEl = document.getElementById("welcome-text");
    welcomeEl.innerHTML = `${name} 님, <br>블랭크 합류를 환영해요!`;
    function openPDF() { window.open("file:///C:/Users/jjs/Desktop/[blank.] Day 1 체크리스트.pdf"); }
    const lines = ["<strong>테</strong> : 스트", "<strong>스</strong> : 트", "<strong>트</strong> : -"];
    const sloganEl = document.getElementById("slogan");
    lines.forEach(lineHTML => { const p = document.createElement("p"); const temp = document.createElement("span"); temp.innerHTML = lineHTML; temp.childNodes.forEach(node => { if (node.nodeType === Node.TEXT_NODE) { [...node.textContent].forEach(char => { const span = document.createElement("span"); span.classList.add("bounce-char"); span.textContent = char === ' ' ? '\u00A0' : char; span.addEventListener("mouseenter", () => { span.classList.add("bounce"); setTimeout(() => span.classList.remove("bounce"), 600); }); p.appendChild(span); }); } else if (node.nodeType === Node.ELEMENT_NODE && node.tagName === "STRONG") { const span = document.createElement("span"); span.classList.add("bounce-char"); const strong = document.createElement("strong"); strong.textContent = node.textContent; span.appendChild(strong); span.addEventListener("mouseenter", () => { span.classList.add("bounce"); setTimeout(() => span.classList.remove("bounce"), 600); }); p.appendChild(span); } }); sloganEl.appendChild(p); });
    function applyBounceEffect(targetId) { const el = document.getElementById(targetId); const text = el.innerHTML.replace(/<br\s*\/?>/gi, '\n'); el.innerHTML = ''; for (const char of text) { if (char === '\n') { el.appendChild(document.createElement('br')); continue; } const span = document.createElement("span"); span.classList.add("bounce-char"); span.textContent = char === ' ' ? '\u00A0' : char; span.addEventListener("mouseenter", () => { span.classList.add("bounce"); setTimeout(() => span.classList.remove("bounce"), 600); }); el.appendChild(span); } }
    applyBounceEffect("top-left-text"); applyBounceEffect("welcome-text");
    const canvas = document.getElementById('confetti-canvas'); const ctx = canvas.getContext('2d'); let particles = [];
    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; } resizeCanvas(); window.addEventListener('resize', resizeCanvas);
    function createParticle() { const colors = ['#ffcc00', '#ff6666', '#66ccff', '#99ff99', '#ffffff']; return { x: Math.random() * canvas.width, y: -10, size: Math.random() * 4 + 3, speedY: Math.random() * 3 + 2, speedX: (Math.random() - 0.5) * 4, color: colors[Math.floor(Math.random() * colors.length)], angle: Math.random() * Math.PI * 2 }; }
    function updateParticles() { ctx.clearRect(0, 0, canvas.width, canvas.height); particles.forEach((p, i) => { p.x += p.speedX; p.y += p.speedY; p.angle += 0.05; ctx.beginPath(); ctx.fillStyle = p.color; ctx.ellipse(p.x, p.y, p.size, p.size * 0.4, p.angle, 0, 2 * Math.PI); ctx.fill(); if (p.y > canvas.height) particles[i] = createParticle(); }); requestAnimationFrame(updateParticles); } for (let i = 0; i < 50; i++) { particles.push(createParticle()); } updateParticles();
    document.getElementById("easter-egg-logo").addEventListener("click", () => { const msg = document.getElementById("easter-egg-message"); msg.style.display = "block"; msg.style.animation = "fade-pop 0.5s ease-out"; setTimeout(() => msg.style.animation = "", 500); setTimeout(() => msg.style.display = "none", 4000); });
    const fixedContainer = document.querySelector('.fixed-container'); function resizeFixedContainer() { const scaleX = window.innerWidth / 1920; const scaleY = window.innerHeight / 1080; const scale = Math.min(scaleX, scaleY); fixedContainer.style.transform = `translate(-50%, -50%) scale(${scale})`; } window.addEventListener('resize', resizeFixedContainer); window.addEventListener('load', resizeFixedContainer);


    /* --- 수정된 이모지 물리 효과 스크립트 --- */
    document.addEventListener('DOMContentLoaded', () => {
        const kickableEmoji = document.querySelector('.emoji.emoji1');
        const container = document.querySelector('.fixed-container');
        const goalMessage = document.getElementById('goal-message');
        
        const containerWidth = 1920;
        const containerHeight = 1080;

        let emojiState = { x: 0, y: 0, vx: 0, vy: 0, radius: 55, rotation: 0, rotationSpeed: 0 };
        let mouse = { x: 0, y: 0, px: 0, py: 0 };
        let isGoal = false;
        let isPhysicsActive = false;
        let inactivityTimerId = null; 

        const walls = [];
        function updateWallRects() { walls.length = 0; [document.getElementById('top-left-text'), document.getElementById('welcome-text'), document.querySelector('.center-message .button'), document.getElementById('slogan'), document.getElementById('easter-egg-logo')].forEach(el => { if (el) walls.push(el.getBoundingClientRect()); }); }
        window.addEventListener('resize', updateWallRects); setTimeout(updateWallRects, 100);

        function getContainerScale() { const transform = window.getComputedStyle(container).transform; if (transform === 'none') return 1; const matrix = transform.match(/matrix\((.+)\)/); return matrix ? parseFloat(matrix[1].split(', ')[0]) : 1; }
        function screenToContainerCoords(screenX, screenY) { const containerRect = container.getBoundingClientRect(); const scale = getContainerScale(); return { x: (screenX - containerRect.left) / scale, y: (screenY - containerRect.top) / scale }; }
        
        // <<< 이모지 리셋 함수
        function resetEmoji() {
            goalMessage.classList.remove('show'); // <<< [수정] 골 메시지 숨기기
            isGoal = false;
            isPhysicsActive = false;
            kickableEmoji.style.display = 'block';

            clearTimeout(inactivityTimerId); 
            inactivityTimerId = null;
            
            // CSS 스타일 초기화 및 애니메이션 재적용
            kickableEmoji.style.animation = 'fadeIn 1s ease-out both, float-rotate 4s ease-in-out infinite';
            kickableEmoji.style.top = '40%';
            kickableEmoji.style.left = '72%';
            kickableEmoji.style.transform = '';
            
            // 다시 상호작용 가능하도록 이벤트 리스너 추가
            kickableEmoji.addEventListener('mouseover', activatePhysics, { once: true });
        }

        function activatePhysics() {
            if (isPhysicsActive) return;
            isPhysicsActive = true;

            const rect = kickableEmoji.getBoundingClientRect();
            const containerRect = container.getBoundingClientRect();
            const scale = getContainerScale();
            emojiState.x = ((rect.left + rect.right) / 2 - containerRect.left) / scale;
            emojiState.y = ((rect.top + rect.bottom) / 2 - containerRect.top) / scale;
            emojiState.vx = 0;
            emojiState.vy = 0;
            
            kickableEmoji.style.animation = 'none';
            kickableEmoji.style.top = '0px';
            kickableEmoji.style.left = '0px';
        }
        
        kickableEmoji.addEventListener('mouseover', activatePhysics, { once: true });

        document.addEventListener('mousemove', e => { mouse.px = mouse.x; mouse.py = mouse.y; const { x, y } = screenToContainerCoords(e.clientX, e.clientY); mouse.x = x; mouse.y = y; });

        function gameLoop() {
            requestAnimationFrame(gameLoop);
            if (isGoal) return;
            
            if (isPhysicsActive) {
                // 물리 계산...
                emojiState.vx *= 0.98; emojiState.vy *= 0.98; emojiState.vy += 0.08;
                emojiState.x += emojiState.vx; emojiState.y += emojiState.vy;
                emojiState.rotation += emojiState.rotationSpeed; emojiState.rotationSpeed *= 0.97;

                // 마우스 충돌...
                const dx = emojiState.x - mouse.x; const dy = emojiState.y - mouse.y; const distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < emojiState.radius) { const mouseVX = (mouse.x - mouse.px); const mouseVY = (mouse.y - mouse.py); emojiState.vx = mouseVX * 1.5; emojiState.vy = mouseVY * 1.5; emojiState.rotationSpeed = (mouseVX - mouseVY) * 0.3; }

                // 벽 및 요소 충돌...
                const restitution = -0.7;
                if (emojiState.x - emojiState.radius < 0) { emojiState.x = emojiState.radius; emojiState.vx *= restitution; }
                if (emojiState.x + emojiState.radius > containerWidth) { emojiState.x = containerWidth - emojiState.radius; emojiState.vx *= restitution; }
                if (emojiState.y - emojiState.radius < 0) { emojiState.y = emojiState.radius; emojiState.vy *= restitution; }
                if (emojiState.y + emojiState.radius > containerHeight) { emojiState.y = containerHeight - emojiState.radius; emojiState.vy *= restitution; }
                const containerRect = container.getBoundingClientRect(); const scale = getContainerScale();
                walls.forEach(wallRect => {
                    const wall = { left: (wallRect.left - containerRect.left) / scale, right: (wallRect.right - containerRect.left) / scale, top: (wallRect.top - containerRect.top) / scale, bottom: (wallRect.bottom - containerRect.top) / scale };
                    if (emojiState.x + emojiState.radius > wall.left && emojiState.x - emojiState.radius < wall.right && emojiState.y + emojiState.radius > wall.top && emojiState.y - emojiState.radius < wall.bottom) {
                        const overlapX = (emojiState.x < (wall.left + wall.right) / 2) ? (emojiState.x + emojiState.radius) - wall.left : wall.right - (emojiState.x - emojiState.radius); const overlapY = (emojiState.y < (wall.top + wall.bottom) / 2) ? (emojiState.y + emojiState.radius) - wall.top : wall.bottom - (emojiState.y - emojiState.radius);
                        if (overlapX < overlapY) { emojiState.vx *= restitution; emojiState.x += (emojiState.vx > 0 ? 1 : -1) * overlapX; }
                        else { emojiState.vy *= restitution; emojiState.y += (emojiState.vy > 0 ? 1 : -1) * overlapY; }
                    }
                });

                // 비활성 타이머 로직
                const isMoving = Math.abs(emojiState.vx) > 0.1 || Math.abs(emojiState.vy) > 0.1 || Math.abs(emojiState.rotationSpeed) > 0.1;
                if (isMoving) {
                    clearTimeout(inactivityTimerId);
                    inactivityTimerId = null;
                } else {
                    if (!inactivityTimerId) {
                        inactivityTimerId = setTimeout(resetEmoji, 3000);
                    }
                }

                // 골인 확인
                if (emojiState.x > containerWidth - 150 && emojiState.y < 150) {
                    isGoal = true;
                    goalMessage.classList.add('show');
                    kickableEmoji.style.display = 'none';
                    triggerFireworks();
                    clearTimeout(inactivityTimerId); 
                    inactivityTimerId = null;
                    setTimeout(resetEmoji, 3000); // 3초 후 리셋
                }

                kickableEmoji.style.transform = `translate(${emojiState.x - emojiState.radius}px, ${emojiState.y - emojiState.radius}px) rotate(${emojiState.rotation}deg)`;
            }
        }

        gameLoop();

        // --- 폭죽 효과 스크립트 (변경 없음) ---
        const fireworksCanvas = document.getElementById('fireworks-canvas'); const fireworksCtx = fireworksCanvas.getContext('2d'); let fireworkParticles = [];
        function resizeFireworksCanvas() { fireworksCanvas.width = window.innerWidth; fireworksCanvas.height = window.innerHeight; } window.addEventListener('resize', resizeFireworksCanvas); resizeFireworksCanvas();
        function triggerFireworks() { const containerRect = container.getBoundingClientRect(); const scale = getContainerScale(); const goalX = containerRect.left + (containerWidth - 75) * scale; const goalY = containerRect.top + 75 * scale; for(let i=0; i<100; i++) { fireworkParticles.push(createFireworkParticle(goalX, goalY)); } if(fireworkParticles.length > 0) animateFireworks(); }
        function createFireworkParticle(x, y) { const angle = Math.random() * Math.PI * 2; const speed = Math.random() * 8 + 2; const colors = ['#ffcc00', '#ff6666', '#66ccff', '#99ff99', '#ffffff']; return { x: x, y: y, vx: Math.cos(angle) * speed, vy: Math.sin(angle) * speed, color: colors[Math.floor(Math.random() * colors.length)], size: Math.random() * 3 + 2, alpha: 1, decay: Math.random() * 0.02 + 0.01 }; }
        function animateFireworks() { fireworksCtx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height); let stillAnimating = false; fireworkParticles.forEach((p) => { if(p.alpha > 0.01) { stillAnimating = true; p.x += p.vx; p.y += p.vy; p.vy += 0.1; p.alpha -= p.decay; fireworksCtx.globalAlpha = p.alpha; fireworksCtx.beginPath(); fireworksCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2, false); fireworksCtx.fillStyle = p.color; fireworksCtx.fill(); } }); fireworksCtx.globalAlpha = 1; if (stillAnimating) { requestAnimationFrame(animateFireworks); } else { fireworkParticles = []; } }
    });
  </script>
</body>
</html>